package activities;

import java.util.ArrayList;

import Assignment.utask.R;
import Model.Data;
import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.provider.ContactsContract.Contacts;
import android.view.View;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.DatePicker;
import android.widget.Spinner;
import android.widget.TextView;
import custom.MyEditText;

public class TaskModifyView extends Activity {

	// Properties
	MyEditText editTitle, editNote;
	Spinner editPriority, editGroup;
	DatePicker editDate;
	Button editColla;
	TextView showColla;

	ArrayList<String> priorityOption, groupOption;
	ArrayAdapter<String> priorityAdapt, groupAdapt;

	@Override
	protected void onCreate(Bundle savedInstanceState) {

		super.onCreate(savedInstanceState);
		setContentView(R.layout.add_edit_task);

		// Settings for Properties
		settingForProperties();

		// Set actions
		editColla.setOnClickListener(new View.OnClickListener() {

			@Override
			public void onClick(View v) {
				Intent intent = new Intent(Intent.ACTION_PICK,
						Contacts.CONTENT_URI);
				
				startActivity(intent);
			}
		});
		
		Bundle received = this.getIntent().getExtras();

		// Check if the intent is type 'edit' .If it's type 'add' then do
		// nothing
		if (received.getString("type").equals("edit")) {

		}
	}

	private void settingForProperties() {
		// Inflate to XML file
		editTitle = (MyEditText) findViewById(R.id.title_right_bottom_panel_add_edit);
		editPriority = (Spinner) findViewById(R.id.priority_right_bottom_panel_add_edit);
		editDate = (DatePicker) findViewById(R.id.date_right_bottom_panel_add_edit);
		editGroup = (Spinner) findViewById(R.id.group_right_bottom_panel_add_edit);
		editColla = (Button) findViewById(R.id.contactbutton_right_bottom_panel_add_edit);
		showColla = (TextView) findViewById(R.id.chooseContact_right_bottom_panel_add_edit);
		editNote = (MyEditText) findViewById(R.id.note_right_bottom_panel_add_edit);

		// Settings for properties
		/* Priority */
		priorityOption = new ArrayList<String>();
		priorityOption.add("High");
		priorityOption.add("Medium");
		priorityOption.add("Low");
		priorityAdapt = new ArrayAdapter<String>(this,
				R.layout.myspinner_text_view, priorityOption);
		priorityAdapt
				.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
		editPriority.setAdapter(priorityAdapt);

		/* Group */
		groupOption = new ArrayList<String>();
		for (int i = 0; i < Data.getGroupList().size(); i++) {
			groupOption.add(Data.getGroupList().get(i).getGroupName());
		}
		groupAdapt = new ArrayAdapter<String>(this,
				R.layout.myspinner_text_view, groupOption);
		groupAdapt
				.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
		editGroup.setAdapter(groupAdapt);
	}
}
